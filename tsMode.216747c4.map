{"version":3,"sources":["node_modules\\monaco-editor\\esm\\vs\\language\\typescript\\workerManager.js","node_modules\\monaco-editor\\esm\\vs\\language\\typescript\\languageFeatures.js","node_modules\\monaco-editor\\esm\\vs\\language\\typescript\\tsMode.js"],"names":["Promise","monaco","WorkerManager","modeId","defaults","_this","_modeId","_defaults","_worker","_idleCheckInterval","setInterval","_checkIfIdle","_lastUsedTime","_configChangeListener","onDidChange","_stopWorker","prototype","dispose","_client","maxIdleTime","getWorkerMaxIdleTime","timePassedSinceLastUsed","Date","now","_getClient","editor","createWebWorker","getCompilerOptions","getExtraLibs","p","getProxy","getEagerModelSync","then","worker","withSyncedResources","getModels","filter","model","getModeId","map","uri","getLanguageServiceWorker","resources","_i","arguments","length","toShallowCancelPromise","client","_","completeCallback","errorCallback","r","c","e","IndentStyle","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","hasOwnProperty","__","constructor","create","Uri","flattenDiagnosticMessageText","messageText","newLine","diagnosticChain","result","indent","i","next","displayPartsToString","displayParts","displayPart","text","join","Adapter","_positionToOffset","position","getModel","getOffsetAt","_offsetToPosition","offset","getPositionAt","_textSpanToRange","span","p1","start","p2","startLineNumber","lineNumber","startColumn","column","endLineNumber","endColumn","DiagnostcsAdapter","_super","_selector","call","_disposables","_listener","onModelAdd","handle","changeSubscription","onDidChangeContent","setTimeout","_doValidate","toString","onModelRemoved","setModelMarkers","key","push","onDidCreateModel","onWillDisposeModel","onDidChangeModelLanguage","event","_a","forEach","resource","promises","getDiagnosticsOptions","noSyntaxValidation","noSemanticValidation","getSyntacticDiagnostics","getSemanticDiagnostics","diagnostics","markers","reduce","concat","_convertDiagnostics","done","undefined","err","error","diag","_b","MarkerSeverity","Error","SuggestAdapter","apply","defineProperty","provideCompletionItems","token","getWordUntilPosition","wordInfo","wireCancellationToken","getCompletionsAtPosition","info","suggestions","entries","entry","name","sortText","convertKind","kind","resolveCompletionItem","item","myItem","getCompletionEntryDetails","label","details","documentation","Kind","primitiveType","keyword","languages","CompletionItemKind","Keyword","variable","localVariable","Variable","memberVariable","memberGetAccessor","memberSetAccessor","Field","function","memberFunction","constructSignature","callSignature","indexSignature","Function","enum","Enum","module","Module","class","Class","interface","Interface","warning","File","Property","SignatureHelpAdapter","signatureHelpTriggerCharacters","provideSignatureHelp","getSignatureHelpItems","ret","selectedItemIndex","argumentIndex","items","signature","prefixDisplayParts","parameters","a","parameter","separatorDisplayParts","suffixDisplayParts","signatures","QuickInfoAdapter","provideHover","getQuickInfoAtPosition","tags","tag","match","contents","textSpan","OccurrencesAdapter","provideDocumentHighlights","getOccurrencesAtPosition","isWriteAccess","DocumentHighlightKind","Write","Text","DefinitionAdapter","provideDefinition","getDefinitionAtPosition","entries_1","parse","fileName","ReferenceAdapter","provideReferences","context","getReferencesAtPosition","entries_2","OutlineAdapter","provideDocumentSymbols","getNavigationBarItems","convert","bucket","containerLabel","outlineTypeTable","SymbolKind","spans","childItems","child","unknown","script","type","localFunction","constructorImplementation","typeParameter","alias","const","let","Method","FormatHelper","_convertOptions","options","insertSpaces","tabSize","Smart","_convertTextChanges","change","newText","FormatAdapter","provideDocumentRangeFormattingEdits","range","getFormattingEditsForRange","edits","edit","FormatOnTypeAdapter","provideOnTypeFormattingEdits","ch","getFormattingEditsAfterKeystroke","promise","onCancellationRequested","cancel","setupTypeScript","setupJavaScript","getJavaScriptWorker","getTypeScriptWorker","javaScriptWorker","typeScriptWorker","languageFeatures","setupMode","resolve","reject","first","more","registerCompletionItemProvider","registerSignatureHelpProvider","registerHoverProvider","registerDocumentHighlightProvider","registerDefinitionProvider","registerReferenceProvider","registerDocumentSymbolProvider","registerDocumentRangeFormattingEditProvider","registerOnTypeFormattingEditProvider"],"mappings":"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","file":"tsMode.216747c4.map","sourceRoot":"..","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar Promise = monaco.Promise;\nvar WorkerManager = /** @class */ (function () {\n    function WorkerManager(modeId, defaults) {\n        var _this = this;\n        this._modeId = modeId;\n        this._defaults = defaults;\n        this._worker = null;\n        this._idleCheckInterval = setInterval(function () { return _this._checkIfIdle(); }, 30 * 1000);\n        this._lastUsedTime = 0;\n        this._configChangeListener = this._defaults.onDidChange(function () { return _this._stopWorker(); });\n    }\n    WorkerManager.prototype._stopWorker = function () {\n        if (this._worker) {\n            this._worker.dispose();\n            this._worker = null;\n        }\n        this._client = null;\n    };\n    WorkerManager.prototype.dispose = function () {\n        clearInterval(this._idleCheckInterval);\n        this._configChangeListener.dispose();\n        this._stopWorker();\n    };\n    WorkerManager.prototype._checkIfIdle = function () {\n        if (!this._worker) {\n            return;\n        }\n        var maxIdleTime = this._defaults.getWorkerMaxIdleTime();\n        var timePassedSinceLastUsed = Date.now() - this._lastUsedTime;\n        if (maxIdleTime > 0 && timePassedSinceLastUsed > maxIdleTime) {\n            this._stopWorker();\n        }\n    };\n    WorkerManager.prototype._getClient = function () {\n        var _this = this;\n        this._lastUsedTime = Date.now();\n        if (!this._client) {\n            this._worker = monaco.editor.createWebWorker({\n                // module that exports the create() method and returns a `TypeScriptWorker` instance\n                moduleId: 'vs/language/typescript/tsWorker',\n                label: this._modeId,\n                // passed in to the create() method\n                createData: {\n                    compilerOptions: this._defaults.getCompilerOptions(),\n                    extraLibs: this._defaults.getExtraLibs()\n                }\n            });\n            var p = this._worker.getProxy();\n            if (this._defaults.getEagerModelSync()) {\n                p = p.then(function (worker) {\n                    return _this._worker.withSyncedResources(monaco.editor.getModels()\n                        .filter(function (model) { return model.getModeId() === _this._modeId; })\n                        .map(function (model) { return model.uri; }));\n                });\n            }\n            this._client = p;\n        }\n        return this._client;\n    };\n    WorkerManager.prototype.getLanguageServiceWorker = function () {\n        var _this = this;\n        var resources = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            resources[_i] = arguments[_i];\n        }\n        var _client;\n        return toShallowCancelPromise(this._getClient().then(function (client) {\n            _client = client;\n        }).then(function (_) {\n            return _this._worker.withSyncedResources(resources);\n        }).then(function (_) { return _client; }));\n    };\n    return WorkerManager;\n}());\nexport { WorkerManager };\nfunction toShallowCancelPromise(p) {\n    var completeCallback;\n    var errorCallback;\n    var r = new Promise(function (c, e) {\n        completeCallback = c;\n        errorCallback = e;\n    }, function () { });\n    p.then(completeCallback, errorCallback);\n    return r;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar Uri = monaco.Uri;\nvar Promise = monaco.Promise;\n//#region utils copied from typescript to prevent loading the entire typescriptServices ---\nvar IndentStyle;\n(function (IndentStyle) {\n    IndentStyle[IndentStyle[\"None\"] = 0] = \"None\";\n    IndentStyle[IndentStyle[\"Block\"] = 1] = \"Block\";\n    IndentStyle[IndentStyle[\"Smart\"] = 2] = \"Smart\";\n})(IndentStyle || (IndentStyle = {}));\nfunction flattenDiagnosticMessageText(messageText, newLine) {\n    if (typeof messageText === \"string\") {\n        return messageText;\n    }\n    else {\n        var diagnosticChain = messageText;\n        var result = \"\";\n        var indent = 0;\n        while (diagnosticChain) {\n            if (indent) {\n                result += newLine;\n                for (var i = 0; i < indent; i++) {\n                    result += \"  \";\n                }\n            }\n            result += diagnosticChain.messageText;\n            indent++;\n            diagnosticChain = diagnosticChain.next;\n        }\n        return result;\n    }\n}\nfunction displayPartsToString(displayParts) {\n    if (displayParts) {\n        return displayParts.map(function (displayPart) { return displayPart.text; }).join(\"\");\n    }\n    return \"\";\n}\n//#endregion\nvar Adapter = /** @class */ (function () {\n    function Adapter(_worker) {\n        this._worker = _worker;\n    }\n    Adapter.prototype._positionToOffset = function (uri, position) {\n        var model = monaco.editor.getModel(uri);\n        return model.getOffsetAt(position);\n    };\n    Adapter.prototype._offsetToPosition = function (uri, offset) {\n        var model = monaco.editor.getModel(uri);\n        return model.getPositionAt(offset);\n    };\n    Adapter.prototype._textSpanToRange = function (uri, span) {\n        var p1 = this._offsetToPosition(uri, span.start);\n        var p2 = this._offsetToPosition(uri, span.start + span.length);\n        var startLineNumber = p1.lineNumber, startColumn = p1.column;\n        var endLineNumber = p2.lineNumber, endColumn = p2.column;\n        return { startLineNumber: startLineNumber, startColumn: startColumn, endLineNumber: endLineNumber, endColumn: endColumn };\n    };\n    return Adapter;\n}());\nexport { Adapter };\n// --- diagnostics --- ---\nvar DiagnostcsAdapter = /** @class */ (function (_super) {\n    __extends(DiagnostcsAdapter, _super);\n    function DiagnostcsAdapter(_defaults, _selector, worker) {\n        var _this = _super.call(this, worker) || this;\n        _this._defaults = _defaults;\n        _this._selector = _selector;\n        _this._disposables = [];\n        _this._listener = Object.create(null);\n        var onModelAdd = function (model) {\n            if (model.getModeId() !== _selector) {\n                return;\n            }\n            var handle;\n            var changeSubscription = model.onDidChangeContent(function () {\n                clearTimeout(handle);\n                handle = setTimeout(function () { return _this._doValidate(model.uri); }, 500);\n            });\n            _this._listener[model.uri.toString()] = {\n                dispose: function () {\n                    changeSubscription.dispose();\n                    clearTimeout(handle);\n                }\n            };\n            _this._doValidate(model.uri);\n        };\n        var onModelRemoved = function (model) {\n            monaco.editor.setModelMarkers(model, _this._selector, []);\n            var key = model.uri.toString();\n            if (_this._listener[key]) {\n                _this._listener[key].dispose();\n                delete _this._listener[key];\n            }\n        };\n        _this._disposables.push(monaco.editor.onDidCreateModel(onModelAdd));\n        _this._disposables.push(monaco.editor.onWillDisposeModel(onModelRemoved));\n        _this._disposables.push(monaco.editor.onDidChangeModelLanguage(function (event) {\n            onModelRemoved(event.model);\n            onModelAdd(event.model);\n        }));\n        _this._disposables.push({\n            dispose: function () {\n                for (var _i = 0, _a = monaco.editor.getModels(); _i < _a.length; _i++) {\n                    var model = _a[_i];\n                    onModelRemoved(model);\n                }\n            }\n        });\n        _this._disposables.push(_this._defaults.onDidChange(function () {\n            // redo diagnostics when options change\n            for (var _i = 0, _a = monaco.editor.getModels(); _i < _a.length; _i++) {\n                var model = _a[_i];\n                onModelRemoved(model);\n                onModelAdd(model);\n            }\n        }));\n        monaco.editor.getModels().forEach(onModelAdd);\n        return _this;\n    }\n    DiagnostcsAdapter.prototype.dispose = function () {\n        this._disposables.forEach(function (d) { return d && d.dispose(); });\n        this._disposables = [];\n    };\n    DiagnostcsAdapter.prototype._doValidate = function (resource) {\n        var _this = this;\n        this._worker(resource).then(function (worker) {\n            if (!monaco.editor.getModel(resource)) {\n                // model was disposed in the meantime\n                return null;\n            }\n            var promises = [];\n            var _a = _this._defaults.getDiagnosticsOptions(), noSyntaxValidation = _a.noSyntaxValidation, noSemanticValidation = _a.noSemanticValidation;\n            if (!noSyntaxValidation) {\n                promises.push(worker.getSyntacticDiagnostics(resource.toString()));\n            }\n            if (!noSemanticValidation) {\n                promises.push(worker.getSemanticDiagnostics(resource.toString()));\n            }\n            return Promise.join(promises);\n        }).then(function (diagnostics) {\n            if (!diagnostics || !monaco.editor.getModel(resource)) {\n                // model was disposed in the meantime\n                return null;\n            }\n            var markers = diagnostics\n                .reduce(function (p, c) { return c.concat(p); }, [])\n                .map(function (d) { return _this._convertDiagnostics(resource, d); });\n            monaco.editor.setModelMarkers(monaco.editor.getModel(resource), _this._selector, markers);\n        }).done(undefined, function (err) {\n            console.error(err);\n        });\n    };\n    DiagnostcsAdapter.prototype._convertDiagnostics = function (resource, diag) {\n        var _a = this._offsetToPosition(resource, diag.start), startLineNumber = _a.lineNumber, startColumn = _a.column;\n        var _b = this._offsetToPosition(resource, diag.start + diag.length), endLineNumber = _b.lineNumber, endColumn = _b.column;\n        return {\n            severity: monaco.MarkerSeverity.Error,\n            startLineNumber: startLineNumber,\n            startColumn: startColumn,\n            endLineNumber: endLineNumber,\n            endColumn: endColumn,\n            message: flattenDiagnosticMessageText(diag.messageText, '\\n')\n        };\n    };\n    return DiagnostcsAdapter;\n}(Adapter));\nexport { DiagnostcsAdapter };\nvar SuggestAdapter = /** @class */ (function (_super) {\n    __extends(SuggestAdapter, _super);\n    function SuggestAdapter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(SuggestAdapter.prototype, \"triggerCharacters\", {\n        get: function () {\n            return ['.'];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SuggestAdapter.prototype.provideCompletionItems = function (model, position, token) {\n        var wordInfo = model.getWordUntilPosition(position);\n        var resource = model.uri;\n        var offset = this._positionToOffset(resource, position);\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) {\n            return worker.getCompletionsAtPosition(resource.toString(), offset);\n        }).then(function (info) {\n            if (!info) {\n                return;\n            }\n            var suggestions = info.entries.map(function (entry) {\n                return {\n                    uri: resource,\n                    position: position,\n                    label: entry.name,\n                    sortText: entry.sortText,\n                    kind: SuggestAdapter.convertKind(entry.kind)\n                };\n            });\n            return suggestions;\n        }));\n    };\n    SuggestAdapter.prototype.resolveCompletionItem = function (item, token) {\n        var _this = this;\n        var myItem = item;\n        var resource = myItem.uri;\n        var position = myItem.position;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) {\n            return worker.getCompletionEntryDetails(resource.toString(), _this._positionToOffset(resource, position), myItem.label);\n        }).then(function (details) {\n            if (!details) {\n                return myItem;\n            }\n            return {\n                uri: resource,\n                position: position,\n                label: details.name,\n                kind: SuggestAdapter.convertKind(details.kind),\n                detail: displayPartsToString(details.displayParts),\n                documentation: displayPartsToString(details.documentation)\n            };\n        }));\n    };\n    SuggestAdapter.convertKind = function (kind) {\n        switch (kind) {\n            case Kind.primitiveType:\n            case Kind.keyword:\n                return monaco.languages.CompletionItemKind.Keyword;\n            case Kind.variable:\n            case Kind.localVariable:\n                return monaco.languages.CompletionItemKind.Variable;\n            case Kind.memberVariable:\n            case Kind.memberGetAccessor:\n            case Kind.memberSetAccessor:\n                return monaco.languages.CompletionItemKind.Field;\n            case Kind.function:\n            case Kind.memberFunction:\n            case Kind.constructSignature:\n            case Kind.callSignature:\n            case Kind.indexSignature:\n                return monaco.languages.CompletionItemKind.Function;\n            case Kind.enum:\n                return monaco.languages.CompletionItemKind.Enum;\n            case Kind.module:\n                return monaco.languages.CompletionItemKind.Module;\n            case Kind.class:\n                return monaco.languages.CompletionItemKind.Class;\n            case Kind.interface:\n                return monaco.languages.CompletionItemKind.Interface;\n            case Kind.warning:\n                return monaco.languages.CompletionItemKind.File;\n        }\n        return monaco.languages.CompletionItemKind.Property;\n    };\n    return SuggestAdapter;\n}(Adapter));\nexport { SuggestAdapter };\nvar SignatureHelpAdapter = /** @class */ (function (_super) {\n    __extends(SignatureHelpAdapter, _super);\n    function SignatureHelpAdapter() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.signatureHelpTriggerCharacters = ['(', ','];\n        return _this;\n    }\n    SignatureHelpAdapter.prototype.provideSignatureHelp = function (model, position, token) {\n        var _this = this;\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) { return worker.getSignatureHelpItems(resource.toString(), _this._positionToOffset(resource, position)); }).then(function (info) {\n            if (!info) {\n                return;\n            }\n            var ret = {\n                activeSignature: info.selectedItemIndex,\n                activeParameter: info.argumentIndex,\n                signatures: []\n            };\n            info.items.forEach(function (item) {\n                var signature = {\n                    label: '',\n                    documentation: null,\n                    parameters: []\n                };\n                signature.label += displayPartsToString(item.prefixDisplayParts);\n                item.parameters.forEach(function (p, i, a) {\n                    var label = displayPartsToString(p.displayParts);\n                    var parameter = {\n                        label: label,\n                        documentation: displayPartsToString(p.documentation)\n                    };\n                    signature.label += label;\n                    signature.parameters.push(parameter);\n                    if (i < a.length - 1) {\n                        signature.label += displayPartsToString(item.separatorDisplayParts);\n                    }\n                });\n                signature.label += displayPartsToString(item.suffixDisplayParts);\n                ret.signatures.push(signature);\n            });\n            return ret;\n        }));\n    };\n    return SignatureHelpAdapter;\n}(Adapter));\nexport { SignatureHelpAdapter };\n// --- hover ------\nvar QuickInfoAdapter = /** @class */ (function (_super) {\n    __extends(QuickInfoAdapter, _super);\n    function QuickInfoAdapter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    QuickInfoAdapter.prototype.provideHover = function (model, position, token) {\n        var _this = this;\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) {\n            return worker.getQuickInfoAtPosition(resource.toString(), _this._positionToOffset(resource, position));\n        }).then(function (info) {\n            if (!info) {\n                return;\n            }\n            var documentation = displayPartsToString(info.documentation);\n            var tags = info.tags ? info.tags.map(function (tag) {\n                var label = \"*@\" + tag.name + \"*\";\n                if (!tag.text) {\n                    return label;\n                }\n                return label + (tag.text.match(/\\r\\n|\\n/g) ? ' \\n' + tag.text : \" - \" + tag.text);\n            })\n                .join('  \\n\\n') : '';\n            var contents = displayPartsToString(info.displayParts);\n            return {\n                range: _this._textSpanToRange(resource, info.textSpan),\n                contents: [{\n                        value: '```js\\n' + contents + '\\n```\\n'\n                    }, {\n                        value: documentation + (tags ? '\\n\\n' + tags : '')\n                    }]\n            };\n        }));\n    };\n    return QuickInfoAdapter;\n}(Adapter));\nexport { QuickInfoAdapter };\n// --- occurrences ------\nvar OccurrencesAdapter = /** @class */ (function (_super) {\n    __extends(OccurrencesAdapter, _super);\n    function OccurrencesAdapter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    OccurrencesAdapter.prototype.provideDocumentHighlights = function (model, position, token) {\n        var _this = this;\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) {\n            return worker.getOccurrencesAtPosition(resource.toString(), _this._positionToOffset(resource, position));\n        }).then(function (entries) {\n            if (!entries) {\n                return;\n            }\n            return entries.map(function (entry) {\n                return {\n                    range: _this._textSpanToRange(resource, entry.textSpan),\n                    kind: entry.isWriteAccess ? monaco.languages.DocumentHighlightKind.Write : monaco.languages.DocumentHighlightKind.Text\n                };\n            });\n        }));\n    };\n    return OccurrencesAdapter;\n}(Adapter));\nexport { OccurrencesAdapter };\n// --- definition ------\nvar DefinitionAdapter = /** @class */ (function (_super) {\n    __extends(DefinitionAdapter, _super);\n    function DefinitionAdapter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DefinitionAdapter.prototype.provideDefinition = function (model, position, token) {\n        var _this = this;\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) {\n            return worker.getDefinitionAtPosition(resource.toString(), _this._positionToOffset(resource, position));\n        }).then(function (entries) {\n            if (!entries) {\n                return;\n            }\n            var result = [];\n            for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n                var entry = entries_1[_i];\n                var uri = Uri.parse(entry.fileName);\n                if (monaco.editor.getModel(uri)) {\n                    result.push({\n                        uri: uri,\n                        range: _this._textSpanToRange(uri, entry.textSpan)\n                    });\n                }\n            }\n            return result;\n        }));\n    };\n    return DefinitionAdapter;\n}(Adapter));\nexport { DefinitionAdapter };\n// --- references ------\nvar ReferenceAdapter = /** @class */ (function (_super) {\n    __extends(ReferenceAdapter, _super);\n    function ReferenceAdapter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ReferenceAdapter.prototype.provideReferences = function (model, position, context, token) {\n        var _this = this;\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) {\n            return worker.getReferencesAtPosition(resource.toString(), _this._positionToOffset(resource, position));\n        }).then(function (entries) {\n            if (!entries) {\n                return;\n            }\n            var result = [];\n            for (var _i = 0, entries_2 = entries; _i < entries_2.length; _i++) {\n                var entry = entries_2[_i];\n                var uri = Uri.parse(entry.fileName);\n                if (monaco.editor.getModel(uri)) {\n                    result.push({\n                        uri: uri,\n                        range: _this._textSpanToRange(uri, entry.textSpan)\n                    });\n                }\n            }\n            return result;\n        }));\n    };\n    return ReferenceAdapter;\n}(Adapter));\nexport { ReferenceAdapter };\n// --- outline ------\nvar OutlineAdapter = /** @class */ (function (_super) {\n    __extends(OutlineAdapter, _super);\n    function OutlineAdapter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    OutlineAdapter.prototype.provideDocumentSymbols = function (model, token) {\n        var _this = this;\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) { return worker.getNavigationBarItems(resource.toString()); }).then(function (items) {\n            if (!items) {\n                return;\n            }\n            var convert = function (bucket, item, containerLabel) {\n                var result = {\n                    name: item.text,\n                    detail: '',\n                    kind: (outlineTypeTable[item.kind] || monaco.languages.SymbolKind.Variable),\n                    range: _this._textSpanToRange(resource, item.spans[0]),\n                    selectionRange: _this._textSpanToRange(resource, item.spans[0]),\n                    containerName: containerLabel\n                };\n                if (item.childItems && item.childItems.length > 0) {\n                    for (var _i = 0, _a = item.childItems; _i < _a.length; _i++) {\n                        var child = _a[_i];\n                        convert(bucket, child, result.name);\n                    }\n                }\n                bucket.push(result);\n            };\n            var result = [];\n            items.forEach(function (item) { return convert(result, item); });\n            return result;\n        }));\n    };\n    return OutlineAdapter;\n}(Adapter));\nexport { OutlineAdapter };\nvar Kind = /** @class */ (function () {\n    function Kind() {\n    }\n    Kind.unknown = '';\n    Kind.keyword = 'keyword';\n    Kind.script = 'script';\n    Kind.module = 'module';\n    Kind.class = 'class';\n    Kind.interface = 'interface';\n    Kind.type = 'type';\n    Kind.enum = 'enum';\n    Kind.variable = 'var';\n    Kind.localVariable = 'local var';\n    Kind.function = 'function';\n    Kind.localFunction = 'local function';\n    Kind.memberFunction = 'method';\n    Kind.memberGetAccessor = 'getter';\n    Kind.memberSetAccessor = 'setter';\n    Kind.memberVariable = 'property';\n    Kind.constructorImplementation = 'constructor';\n    Kind.callSignature = 'call';\n    Kind.indexSignature = 'index';\n    Kind.constructSignature = 'construct';\n    Kind.parameter = 'parameter';\n    Kind.typeParameter = 'type parameter';\n    Kind.primitiveType = 'primitive type';\n    Kind.label = 'label';\n    Kind.alias = 'alias';\n    Kind.const = 'const';\n    Kind.let = 'let';\n    Kind.warning = 'warning';\n    return Kind;\n}());\nexport { Kind };\nvar outlineTypeTable = Object.create(null);\noutlineTypeTable[Kind.module] = monaco.languages.SymbolKind.Module;\noutlineTypeTable[Kind.class] = monaco.languages.SymbolKind.Class;\noutlineTypeTable[Kind.enum] = monaco.languages.SymbolKind.Enum;\noutlineTypeTable[Kind.interface] = monaco.languages.SymbolKind.Interface;\noutlineTypeTable[Kind.memberFunction] = monaco.languages.SymbolKind.Method;\noutlineTypeTable[Kind.memberVariable] = monaco.languages.SymbolKind.Property;\noutlineTypeTable[Kind.memberGetAccessor] = monaco.languages.SymbolKind.Property;\noutlineTypeTable[Kind.memberSetAccessor] = monaco.languages.SymbolKind.Property;\noutlineTypeTable[Kind.variable] = monaco.languages.SymbolKind.Variable;\noutlineTypeTable[Kind.const] = monaco.languages.SymbolKind.Variable;\noutlineTypeTable[Kind.localVariable] = monaco.languages.SymbolKind.Variable;\noutlineTypeTable[Kind.variable] = monaco.languages.SymbolKind.Variable;\noutlineTypeTable[Kind.function] = monaco.languages.SymbolKind.Function;\noutlineTypeTable[Kind.localFunction] = monaco.languages.SymbolKind.Function;\n// --- formatting ----\nvar FormatHelper = /** @class */ (function (_super) {\n    __extends(FormatHelper, _super);\n    function FormatHelper() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FormatHelper._convertOptions = function (options) {\n        return {\n            ConvertTabsToSpaces: options.insertSpaces,\n            TabSize: options.tabSize,\n            IndentSize: options.tabSize,\n            IndentStyle: IndentStyle.Smart,\n            NewLineCharacter: '\\n',\n            InsertSpaceAfterCommaDelimiter: true,\n            InsertSpaceAfterSemicolonInForStatements: true,\n            InsertSpaceBeforeAndAfterBinaryOperators: true,\n            InsertSpaceAfterKeywordsInControlFlowStatements: true,\n            InsertSpaceAfterFunctionKeywordForAnonymousFunctions: true,\n            InsertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis: false,\n            InsertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets: false,\n            InsertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces: false,\n            PlaceOpenBraceOnNewLineForControlBlocks: false,\n            PlaceOpenBraceOnNewLineForFunctions: false\n        };\n    };\n    FormatHelper.prototype._convertTextChanges = function (uri, change) {\n        return {\n            text: change.newText,\n            range: this._textSpanToRange(uri, change.span)\n        };\n    };\n    return FormatHelper;\n}(Adapter));\nexport { FormatHelper };\nvar FormatAdapter = /** @class */ (function (_super) {\n    __extends(FormatAdapter, _super);\n    function FormatAdapter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FormatAdapter.prototype.provideDocumentRangeFormattingEdits = function (model, range, options, token) {\n        var _this = this;\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) {\n            return worker.getFormattingEditsForRange(resource.toString(), _this._positionToOffset(resource, { lineNumber: range.startLineNumber, column: range.startColumn }), _this._positionToOffset(resource, { lineNumber: range.endLineNumber, column: range.endColumn }), FormatHelper._convertOptions(options));\n        }).then(function (edits) {\n            if (edits) {\n                return edits.map(function (edit) { return _this._convertTextChanges(resource, edit); });\n            }\n        }));\n    };\n    return FormatAdapter;\n}(FormatHelper));\nexport { FormatAdapter };\nvar FormatOnTypeAdapter = /** @class */ (function (_super) {\n    __extends(FormatOnTypeAdapter, _super);\n    function FormatOnTypeAdapter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(FormatOnTypeAdapter.prototype, \"autoFormatTriggerCharacters\", {\n        get: function () {\n            return [';', '}', '\\n'];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    FormatOnTypeAdapter.prototype.provideOnTypeFormattingEdits = function (model, position, ch, options, token) {\n        var _this = this;\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) {\n            return worker.getFormattingEditsAfterKeystroke(resource.toString(), _this._positionToOffset(resource, position), ch, FormatHelper._convertOptions(options));\n        }).then(function (edits) {\n            if (edits) {\n                return edits.map(function (edit) { return _this._convertTextChanges(resource, edit); });\n            }\n        }));\n    };\n    return FormatOnTypeAdapter;\n}(FormatHelper));\nexport { FormatOnTypeAdapter };\n/**\n * Hook a cancellation token to a WinJS Promise\n */\nfunction wireCancellationToken(token, promise) {\n    token.onCancellationRequested(function () { return promise.cancel(); });\n    return promise;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { WorkerManager } from './workerManager.js';\nimport * as languageFeatures from './languageFeatures.js';\nvar javaScriptWorker;\nvar typeScriptWorker;\nexport function setupTypeScript(defaults) {\n    typeScriptWorker = setupMode(defaults, 'typescript');\n}\nexport function setupJavaScript(defaults) {\n    javaScriptWorker = setupMode(defaults, 'javascript');\n}\nexport function getJavaScriptWorker() {\n    return new monaco.Promise(function (resolve, reject) {\n        if (!javaScriptWorker) {\n            return reject(\"JavaScript not registered!\");\n        }\n        resolve(javaScriptWorker);\n    });\n}\nexport function getTypeScriptWorker() {\n    return new monaco.Promise(function (resolve, reject) {\n        if (!typeScriptWorker) {\n            return reject(\"TypeScript not registered!\");\n        }\n        resolve(typeScriptWorker);\n    });\n}\nfunction setupMode(defaults, modeId) {\n    var client = new WorkerManager(modeId, defaults);\n    var worker = function (first) {\n        var more = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            more[_i - 1] = arguments[_i];\n        }\n        return client.getLanguageServiceWorker.apply(client, [first].concat(more));\n    };\n    monaco.languages.registerCompletionItemProvider(modeId, new languageFeatures.SuggestAdapter(worker));\n    monaco.languages.registerSignatureHelpProvider(modeId, new languageFeatures.SignatureHelpAdapter(worker));\n    monaco.languages.registerHoverProvider(modeId, new languageFeatures.QuickInfoAdapter(worker));\n    monaco.languages.registerDocumentHighlightProvider(modeId, new languageFeatures.OccurrencesAdapter(worker));\n    monaco.languages.registerDefinitionProvider(modeId, new languageFeatures.DefinitionAdapter(worker));\n    monaco.languages.registerReferenceProvider(modeId, new languageFeatures.ReferenceAdapter(worker));\n    monaco.languages.registerDocumentSymbolProvider(modeId, new languageFeatures.OutlineAdapter(worker));\n    monaco.languages.registerDocumentRangeFormattingEditProvider(modeId, new languageFeatures.FormatAdapter(worker));\n    monaco.languages.registerOnTypeFormattingEditProvider(modeId, new languageFeatures.FormatOnTypeAdapter(worker));\n    new languageFeatures.DiagnostcsAdapter(defaults, modeId, worker);\n    return worker;\n}\n"]}